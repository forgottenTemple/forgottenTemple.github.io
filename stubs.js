function FakeXMLHttpRequest(){if("function"!=typeof window.OriginalXHR)throw Error("Original XMLHttpRequest not found. Did you forget to call FakeXMLHttpRequest.setup()?");this.object=new window.OriginalXHR;var e=this;this.object.onabort=function(t){"function"==typeof e.onabort&&e.onabort(t)},this.object.onerror=function(t){"function"==typeof e.onerror&&e.onerror(t)},this.object.onload=function(t){"function"==typeof e.onload&&e.onload(t)},this.object.onloadend=function(t){"function"==typeof e.onloadend&&e.onloadend(t)},this.object.onloadstart=function(t){"function"==typeof e.onloadstart&&e.onloadstart(t)},this.object.onprogress=function(t){"function"==typeof e.onprogress&&e.onprogress(t)},this.object.ontimeout=function(t){"function"==typeof e.ontimeout&&e.ontimeout(t)},this.object.onreadystatechange=function(t){e.readyState=e.object.readyState,e.status=e.object.status,e.statusText=e.object.statusText,e.response=e.object.response,""===e.responseType&&(e.responseText=e.object.responseText,e.responseXML=e.object.responseXML),e.responseURL=e.object.responseURL,"function"==typeof e.onreadystatechange&&e.onreadystatechange(t)},this.onabort=null,this.onerror=null,this.onload=null,this.onloadend=null,this.onloadstart=null,this.onprogress=null,this.onreadystatechange=null,this.ontimeout=null,this.readyState=XMLHttpRequest.UNSENT,this.responseHeaders={},this.response="",this.responseText="",this.responseType="",this.responseURL="",this.responseXML="",this.status=0,this.statusText="",this.timeout=0,this.upload=null,this.withCredentials=!1}FakeXMLHttpRequest.prototype={method:"",url:"",open:function(e,t,s,n,a){this.method=e,this.url=t,this.object.responseType=this.responseType,this.object.open(e,t,"boolean"!=typeof s||s,void 0===n?null:n,void 0===a?null:a)},send:function(e){this.object.responseType=this.responseType;var t=!1,s=this;FakeXMLHttpRequest.handlers.forEach((function(n){if(("string"==typeof n.url&&n.url===s.url||n.url instanceof RegExp&&n.url.test(s.url))&&("string"!=typeof n.method||n.method.toUpperCase()===s.method.toUpperCase())){t=!0;var a=function(){"function"==typeof s.onloadstart&&s.onloadstart();var t=[];n.url instanceof RegExp?(t=n.url.exec(s.url)).push(e):t=[s.url,e];var a=null;if("function"==typeof n.headers?a=n.headers.apply(null,t):"object"==typeof n.headers&&(a=n.headers),a&&"object"==typeof a)for(var o in a)a.hasOwnProperty(o)&&(s.responseHeaders[o.toLowerCase()]=a[o]);if(s.status=n.status,s.statusText=n.statusText,s.readyState=XMLHttpRequest.HEADERS_RECEIVED,"function"==typeof s.onreadystatechange&&s.onreadystatechange(),s.readyState=XMLHttpRequest.LOADING,"function"==typeof s.onreadystatechange&&s.onreadystatechange(),"string"==typeof n.response||"function"==typeof n.response){var r;r="string"==typeof n.response?n.response:n.response.apply(null,t),s.response=r,(""===s.responseType||"text"===s.responseType)&&(s.responseText=n.response),"document"===s.responseType&&(s.responseXML=n.response),s.readyState=XMLHttpRequest.DONE,"function"==typeof s.onreadystatechange&&s.onreadystatechange(),"function"==typeof s.onload&&s.onload(),"function"==typeof s.onloadend&&s.onloadend()}else if("string"==typeof n.proxy||"function"==typeof n.proxy){var d;if("string"==typeof(d="string"==typeof n.proxy?n.proxy:n.proxy.apply(null,t))&&d.length>0){var p=new XMLHttpRequest;p.onreadystatechange=function(){p.readyState===XMLHttpRequest.DONE&&200===p.status&&(s.status=n.status,s.statusText=n.statusText,s.response=p.response,s.readyState=XMLHttpRequest.DONE,(""===s.responseType||"text"===s.responseType)&&(s.responseText=p.response),"document"===s.responseType&&(s.responseXML=p.response),s.readyState=XMLHttpRequest.DONE,"function"==typeof s.onreadystatechange&&s.onreadystatechange(),"function"==typeof s.onload&&s.onload(),"function"==typeof s.onloadend&&s.onloadend())},p.open("GET",d),p.send()}}};"number"==typeof n.responseTime?setTimeout(a,n.responseTime):"object"==typeof n.responseTime&&2===n.responseTime.length?setTimeout(a,Math.random()*(n.responseTime[1]-n.responseTime[0])+n.responseTime[0]):a()}})),t||this.object.send(e)},abort:function(){this.object.abort()},setRequestHeader:function(e,t){this.object.setRequestHeader(e,t)},getResponseHeader:function(e){return this.responseHeaders.hasOwnProperty(e.toLowerCase())?this.responseHeaders[e.toLowerCase()]:this.object.getResponseHeader(e)},getAllResponseHeaders:function(){return this.object.getAllResponseHeaders()},overrideMimeType:function(e){this.object.overrideMimeType(e)},addEventListener:function(e,t){"readystatechange"===e&&(this.onreadystatechange=t)}},FakeXMLHttpRequest.prototype.constructor=FakeXMLHttpRequest,FakeXMLHttpRequest.setup=function(){window.OriginalXHR=window.XMLHttpRequest,window.XMLHttpRequest=FakeXMLHttpRequest,FakeXMLHttpRequest.handlers=[]},FakeXMLHttpRequest.restore=function(){FakeXMLHttpRequest.handlers=[],window.XMLHttpRequest=window.OriginalXHR,delete window.OriginalXHR},FakeXMLHttpRequest.addHandler=function(e){FakeXMLHttpRequest.handlers.push(e)},FakeXMLHttpRequest.UNSENT=XMLHttpRequest.UNSENT,FakeXMLHttpRequest.OPENED=XMLHttpRequest.OPENED,FakeXMLHttpRequest.LOADING=XMLHttpRequest.LOADING,FakeXMLHttpRequest.HEADERS_RECEIVED=XMLHttpRequest.HEADERS_RECEIVED,FakeXMLHttpRequest.DONE=XMLHttpRequest.DONE,FakeXMLHttpRequest.setup(),FakeXMLHttpRequest.addHandler({url:/\/admin\/terms/,status:200,response:JSON.stringify({deleted:!1,_id:"1",updatedBy:"1",createdBy:"1",content:{"en-gb":"<p></p>"},updatedAt:"2022-08-03T12:36:38.534Z",createdAt:"2021-10-22T10:41:29.624Z"})}),FakeXMLHttpRequest.addHandler({url:/\/admin\/setting-date/,status:200,response:"DD/MM/YYYY"}),FakeXMLHttpRequest.addHandler({url:/\/admin\/contact-us/,status:200,response:'{"deleted":false,"_id":"1","updatedBy":"1","createdBy":"1","content":{"en-gb":"<p></p>"},"updatedAt":"2022-11-18T13:02:59.718Z","createdAt":"2021-10-26T15:08:03.491Z"}'}),FakeXMLHttpRequest.addHandler({url:/\/admin\/cookie-policy/,status:200,response:'{"deleted":false,"_id":"1","updatedBy":"1","createdBy":"1","content":{"en-gb":"<p></p>"},"updatedAt":"2022-11-18T13:02:59.718Z","createdAt":"2021-10-26T15:08:03.491Z"}'}),FakeXMLHttpRequest.addHandler({url:/\/admin\/privacy-policy/,status:200,response:'{"deleted":false,"_id":"1","updatedBy":"1","createdBy":"1","content":{"en-gb":"<p></p>"},"updatedAt":"2022-11-18T13:02:59.718Z","createdAt":"2021-10-26T15:08:03.491Z"}'}),FakeXMLHttpRequest.addHandler({url:/\/admin\/setting-languages/,status:200,response:'["en-gb"]'}),FakeXMLHttpRequest.addHandler({url:/\/admin\/exchange-rates/,status:200,response:'["USD"]'}),FakeXMLHttpRequest.addHandler({url:/\/admin\/setting-currencies/,status:200,response:'{"USD":"1.39"}'}),FakeXMLHttpRequest.addHandler({url:/\/admin\/setting-default-currency/,status:200,response:"USD"}),FakeXMLHttpRequest.addHandler({url:/\/system\/version/,status:200,response:""}),FakeXMLHttpRequest.addHandler({url:/\/tracking\/productSearch/,status:200,response:'{"createdBy":"6729d41376399213ef64bbe8","deleted":false,"productRef":"613bf25320031d0a9bd37804","modelCode":"LG1","modelYear":"2022","modelName":"Trident","_id":"673351383f85fbd17d001535","createdAt":"2024-11-12T12:59:36.839Z","updatedAt":"2024-11-12T12:59:36.839Z","__v":0}'}),FakeXMLHttpRequest.addHandler({url:/\/knowledge-base-settings\/users\/current/,status:200,response:"false"}),FakeXMLHttpRequest.addHandler({url:/\/tracking\/view/,status:200,response:'{"createdBy":"1","deleted":!1,"documentRef":"661e591fceb1ab226a9a4cc3","docType":"613771844b25a79f6947d0d8","orgType":"601d74b47d334db40a1f5784","_id":"6731e2faa2b19f175a1e76f9","topicCompletions":[],"createdAt":"2021-11-11T10:11:58.111Z","updatedAt":"2021-11-11T10:11:58.111Z","__v":0}'}),FakeXMLHttpRequest.addHandler({url:/\/auth/,status:200,response:'{"user":{"_id":"1","firstName":"1","lastName":"1","email":"1","role":"consumer","organisation":{},"preferences":{"detail":"standard","documentLang":"en-gb","uiLang":"en-gb","notifications":[],"bookmarks":[]},"termsAccepted":"2021-11-01T01:11:11.111Z","emailVerified":true,"stripeCustomerId":"cus_121212","hasAvatar":false},"role":"consumer","organisation":{},"organisationType":{},"organisationSubscriptions":[]}'}),FakeXMLHttpRequest.addHandler({url:"/notifications",status:200,response:"[]"}),FakeXMLHttpRequest.addHandler({url:"/users/current/bookmarks",status:200,response:"[]"}),FakeXMLHttpRequest.addHandler({url:"/subscription-types",status:200,response:"[]"}),FakeXMLHttpRequest.addHandler({url:"/users/update-history",status:200,response:"{}"}),FakeXMLHttpRequest.addHandler({url:"/doc-tabs",status:200,proxy:"/data/productData/doc-tabs.json"}),FakeXMLHttpRequest.addHandler({url:"/markets",status:200,proxy:"/data/productData/markets.json"}),FakeXMLHttpRequest.addHandler({url:"/metadata",status:200,proxy:"/data/productData/metadata.json"}),FakeXMLHttpRequest.addHandler({url:/\/documents\?/,status:200,proxy:"/data/productData/documents.json"}),FakeXMLHttpRequest.addHandler({url:/\/service-bulletins\?/,status:200,response:"[]"}),FakeXMLHttpRequest.addHandler({url:/\/notes\//,status:200,response:"[]"}),FakeXMLHttpRequest.addHandler({url:/\/product-details\/single/,status:200,proxy:"/data/productData/single.json"}),FakeXMLHttpRequest.addHandler({url:/\/products\/.*/,status:200,headers:{"Content-Type":"application/json"},proxy:"/data/productData/product.json"}),FakeXMLHttpRequest.addHandler({url:/\/documents\/(.{24})$/,status:200,headers:{"Content-Type":"application/json"},proxy:function(e,t){return`/data/${t}/document.json`}}),FakeXMLHttpRequest.addHandler({url:/\/documents\/(.{24})\/(.*)$/,status:200,headers:{"Content-Type":"application/json"},proxy:function(e,t,s){return`/data/${t}/pages/${s}.json`}});const originalFetch=window.fetch,fetchHandlers=[];function addFetchHandler({url:e,status:t=200,headers:s={},response:n}){fetchHandlers.push({url:e,status:t,headers:s,response:n})}window.fetch=async function(e,t){const s="string"==typeof e?e:e.url;for(const n of fetchHandlers)if(n.url instanceof RegExp&&n.url.test(s)||n.url===s){const s="function"==typeof n.response?await n.response(e,t):n.response,a=new Headers(n.headers);let o;return o=a&&a.get("Content-Type")?.includes("application/json")?JSON.stringify(s):a&&a.get("Content-Type")?.includes("text/")?s.toString():s,new Response(o,{status:n.status,headers:a})}return originalFetch(e,t)},addFetchHandler({url:/\/documents\/(.{24})\/pdf$/,status:200,response:async function(e,t){return(await originalFetch(e.replace("/documents","/data").replace("/pdf","/pdf.pdf"),t)).body}});const handlers=[],defaultSetter=Object.getOwnPropertyDescriptor(HTMLImageElement.prototype,"src").set;Object.defineProperty(HTMLImageElement.prototype,"src",{set(e){for(const t of handlers)if(t[0]instanceof RegExp&&t[0].test(e)||t[0]===e){"string"==typeof t[1]?e=t[1]:"function"==typeof t[1]&&(e=t[1](e));break}defaultSetter.call(this,e)}}),handlers.push([/\/product-details\/zzz\/image/,"/images/image"]),handlers.push([/\/documents\/.*\/images\//,function(e){return e.replace("/documents/","/data/")}]);